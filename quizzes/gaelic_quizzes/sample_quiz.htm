
<!DOCTYPE html> 
<style>
    @import "../../main.css";

    .table_title{border: solid 1px black; padding:5px; background-color:#fff;font-size:20px;width:150px; text-align:center;}
    .pronoun_cell{padding:5px}

    .explanation{background-color:rgba(255, 255, 255, 0.5); padding-left:10px;font-size:17px;}
    .accentbutton{background-color: #6b244a; color: #FFFFFF; padding: 10px;border-radius: 10px;margin:10px; font-size:20px;}

    input[type=checkbox] {width:20px; height:20px;}

    .submitandhint{background-color: #8a4168;color: #FFFFFF;padding: 10px;border-radius: 10px;-moz-border-radius: 10px;-webkit-border-radius: 10px;margin:10px; font-size:20px;}

    #app{background-color:rgba(255, 255, 255, 0.5);padding: 10px;border-radius: 10px;-moz-border-radius: 10px;-webkit-border-radius: 10px;margin:10px; font-size:20px;}
    #answer{ font-size:20px;}
</style>

<script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="crossorigin="anonymous"></script>

<script> 
    $(function(){
        $("#header").load("../../header.htm"); 
        $("#footer").load("../../footer.htm"); 
    });
</script> 
        
<title>Gaelic Posession Quiz</title> 

 
<html>

<body onload="new_saveddata()">
<div id="header"></div>

<br>

<meta charset="utf-8">

<div class="main">
<br>

<center>
<div class="mytext">
<center>

<!-- BLURB GOES HERE --!>

<h1> Gaelic Posession Quiz </h1> 
        
<div>

<form name="theQuiz" onsubmit="return validateAnswer()" action="">
<br>

<br>
<font size="6"><noun></noun> @ <pronoun></pronoun> = ?</font>
<br><br>
<input type="text" name="answer" id="answer" autofocus="autofocus"> <br><result></result>
<br>
<button type="submit" class="submitandhint">Submit</button> <button type="button" onclick="giveHint()" class="submitandhint">Hint</button> 
<font size="3"><br><hint></hint> </font>
</form><br>
  
    <button type="button" onclick="return add_a()" class="accentbutton">à</button>
    <button type="button" onclick="return add_e()" class="accentbutton">è</button>
    <button type="button" onclick="return add_i()" class="accentbutton">ì</button>
    <button type="button" onclick="return add_o()" class="accentbutton">ò</button>
    <button type="button" onclick="return add_u()" class="accentbutton">ù</button>
     
        <br><br>
        <font size=5>Test me on: </font>  
        <br><br>
         
    <label for="meta1"><b>lenitables: </b></label> <input type="checkbox" id="meta1" onclick="checkBox('meta1')"><br>  
     
  
    <label for="meta2"><b>non-lenitables: </b></label> <input type="checkbox" id="meta2" onclick="checkBox('meta2')"><br>  
     
  
    <label for="meta3"><b>vowels: </b></label> <input type="checkbox" id="meta3" onclick="checkBox('meta3')"><br>  
     
  
<br>
<button onClick="window.location.reload();">Update</button>   
    <br><br>
    <table>
        <tr>
         <td></td> <td class="table_title"><b>mi</b></td> <td class="table_title"><b>thu</b></td> <td class="table_title"><b>e</b></td> <td class="table_title"><b>i</b></td> <td class="table_title"><b>sinn</b></td> <td class="table_title"><b>sibh</b></td> <td class="table_title"><b>iad</b></td> <td class="table_title"><b>_type</b></td> 
    </tr>
     <tr>
        <td class="table_title"><b>còta</b></td> <td class="table_entry"><b>mo chòta</b></td> <td class="table_entry"><b>do chòta</b></td> <td class="table_entry"><b>a chòta</b></td> <td class="table_entry"><b>a còta</b></td> <td class="table_entry"><b>ar còta</b></td> <td class="table_entry"><b>ur còta</b></td> <td class="table_entry"><b>an còta</b></td> <td class="table_entry"><b>lenitables</b></td> 
        </tr>
         <tr>
        <td class="table_title"><b>bràthair</b></td> <td class="table_entry"><b>mo bhràthair</b></td> <td class="table_entry"><b>do bhràthair</b></td> <td class="table_entry"><b>a bhràthair</b></td> <td class="table_entry"><b>a bràthair</b></td> <td class="table_entry"><b>ar bràthair</b></td> <td class="table_entry"><b>ur bràthair</b></td> <td class="table_entry"><b>am bràthair</b></td> <td class="table_entry"><b>lenitables</b></td> 
        </tr>
         <tr>
        <td class="table_title"><b>piuthar</b></td> <td class="table_entry"><b>mo phiuthar</b></td> <td class="table_entry"><b>do phiuthar</b></td> <td class="table_entry"><b>a phiuthar</b></td> <td class="table_entry"><b>a piuthar</b></td> <td class="table_entry"><b>ar piuthar</b></td> <td class="table_entry"><b>ur piuthar</b></td> <td class="table_entry"><b>am piuthar</b></td> <td class="table_entry"><b>lenitables</b></td> 
        </tr>
         <tr>
        <td class="table_title"><b>peata</b></td> <td class="table_entry"><b>mo pheata</b></td> <td class="table_entry"><b>do pheata</b></td> <td class="table_entry"><b>a pheata</b></td> <td class="table_entry"><b>a peata</b></td> <td class="table_entry"><b>ar peata</b></td> <td class="table_entry"><b>ur peata</b></td> <td class="table_entry"><b>am peata</b></td> <td class="table_entry"><b>lenitables</b></td> 
        </tr>
         <tr>
        <td class="table_title"><b>leanamh</b></td> <td class="table_entry"><b>mo leanamh</b></td> <td class="table_entry"><b>do leanamh</b></td> <td class="table_entry"><b>a leanamh</b></td> <td class="table_entry"><b>a leanamh</b></td> <td class="table_entry"><b>ar leanamh</b></td> <td class="table_entry"><b>ur leanamh</b></td> <td class="table_entry"><b>an leanamh</b></td> <td class="table_entry"><b>non-lenitables</b></td> 
        </tr>
         <tr>
        <td class="table_title"><b>nighean</b></td> <td class="table_entry"><b>mo nighean</b></td> <td class="table_entry"><b>do nighean</b></td> <td class="table_entry"><b>a nighean</b></td> <td class="table_entry"><b>a nighean</b></td> <td class="table_entry"><b>ar nighean</b></td> <td class="table_entry"><b>ur nighean</b></td> <td class="table_entry"><b>an nighean</b></td> <td class="table_entry"><b>non-lenitables</b></td> 
        </tr>
         <tr>
        <td class="table_title"><b>lèine</b></td> <td class="table_entry"><b>mo lèine</b></td> <td class="table_entry"><b>do lèine</b></td> <td class="table_entry"><b>a lèine</b></td> <td class="table_entry"><b>a lèine</b></td> <td class="table_entry"><b>ar lèine</b></td> <td class="table_entry"><b>ur lèine</b></td> <td class="table_entry"><b>an lèine</b></td> <td class="table_entry"><b>non-lenitables</b></td> 
        </tr>
         <tr>
        <td class="table_title"><b>airgead</b></td> <td class="table_entry"><b>m' airgead</b></td> <td class="table_entry"><b>d' airgead</b></td> <td class="table_entry"><b>airgead</b></td> <td class="table_entry"><b>a h-airgead</b></td> <td class="table_entry"><b>ar n-airgead</b></td> <td class="table_entry"><b>ur n-airgead</b></td> <td class="table_entry"><b>an airgead</b></td> <td class="table_entry"><b>vowels</b></td> 
        </tr>
         <tr>
        <td class="table_title"><b>ogha</b></td> <td class="table_entry"><b>m' ogha</b></td> <td class="table_entry"><b>d' ogha</b></td> <td class="table_entry"><b>ogha</b></td> <td class="table_entry"><b>a h-ogha</b></td> <td class="table_entry"><b>ar n-ogha</b></td> <td class="table_entry"><b>ur n-ogha</b></td> <td class="table_entry"><b>an ogha</b></td> <td class="table_entry"><b>vowels</b></td> 
        </tr>
         <tr>
        <td class="table_title"><b>athair</b></td> <td class="table_entry"><b>m' athair</b></td> <td class="table_entry"><b>d' athair</b></td> <td class="table_entry"><b>athair</b></td> <td class="table_entry"><b>a h-athair</b></td> <td class="table_entry"><b>ar n-athair</b></td> <td class="table_entry"><b>ur n-athair</b></td> <td class="table_entry"><b>an athair</b></td> <td class="table_entry"><b>vowels</b></td> 
        </tr>
         
    </table>
         
    If you find this useful fire me an e-mail at arelennox@gmail.com and let me know! I want to make more similar programs for Gaelic (or other languages) - but only if it's a thing people actually use. If you have any issues or requests for other quizes, let me know that too. <br><br>
    The game is completely free, but consider a donation to <a href="https://www.refuweegee.co.uk/">Refuweegee</a> or <a href="https://scotland.shelter.org.uk/">Shelter Scotland</a> if you use it often.</b> </div>
         
    <script>
         
        function add_a() {
            insertAtCursor(document.getElementById("answer"), 'à')
                document.getElementById("answer").focus();
                }
function add_e() {
            insertAtCursor(document.getElementById("answer"), 'è')
                document.getElementById("answer").focus();
                }
function add_i() {
            insertAtCursor(document.getElementById("answer"), 'ì')
                document.getElementById("answer").focus();
                }
function add_o() {
            insertAtCursor(document.getElementById("answer"), 'ò')
                document.getElementById("answer").focus();
                }
function add_u() {
            insertAtCursor(document.getElementById("answer"), 'ù')
                document.getElementById("answer").focus();
                }
         

    function insertAtCursor(myField, myValue) {
        //IE support
        if (document.selection) {
            myField.focus();
            sel = document.selection.createRange();
            sel.text = myValue;
        }
        //MOZILLA and others
        else if (myField.selectionStart || myField.selectionStart == '0') {
            var startPos = myField.selectionStart;
            var endPos = myField.selectionEnd;
            myField.value = myField.value.substring(0, startPos)
                + myValue
                + myField.value.substring(endPos, myField.value.length);
            myField.selectionEnd = startPos + myValue.length;
        } else {
            myField.value += myValue;
        }
    }
        
        
function new_saveddata() {        

    for (i=0; i <meta1.length; i++) {
        var data = window.localStorage.getItem('meta1');
        if (data == 'true') {
            document.getElementById('meta1').checked = true;
            if (! nouns.includes(meta1[i])) {
                nouns.push(meta1[i]);
                }
        } else {
            document.getElementById('meta1').checked = false;
            if (nouns.includes(meta1[i])) {
                var index = nouns.indexOf(meta1[i]);
                nouns.splice(index, 1);
                }
        }
    }
    
    for (i=0; i <meta2.length; i++) {
        var data = window.localStorage.getItem('meta2');
        if (data == 'true') {
            document.getElementById('meta2').checked = true;
            if (! nouns.includes(meta2[i])) {
                nouns.push(meta2[i]);
                }
        } else {
            document.getElementById('meta2').checked = false;
            if (nouns.includes(meta2[i])) {
                var index = nouns.indexOf(meta2[i]);
                nouns.splice(index, 1);
                }
        }
    }
    
    for (i=0; i <meta3.length; i++) {
        var data = window.localStorage.getItem('meta3');
        if (data == 'true') {
            document.getElementById('meta3').checked = true;
            if (! nouns.includes(meta3[i])) {
                nouns.push(meta3[i]);
                }
        } else {
            document.getElementById('meta3').checked = false;
            if (nouns.includes(meta3[i])) {
                var index = nouns.indexOf(meta3[i]);
                nouns.splice(index, 1);
                }
        }
    }
    
    window.localStorage.setItem('nouns', nouns);
	newQuestion();
	return [nouns]; 
}
 
function checkBox(mystring) {
    mybox = document.getElementById(mystring);
    if(mybox.checked === true){
        window.localStorage.setItem(mystring, true);
    } else {
        window.localStorage.setItem(mystring, false);
    }
}
function checkSelection(mystring) {
    mybox = document.getElementById(mystring);
    if(mybox.checked === true){
        window.localStorage.setItem(mystring, true);
    } else {
        window.localStorage.setItem(mystring, false);
    }
}



function validateAnswer() {
    var x = document.forms["theQuiz"]["answer"].value;
    x = x.toLowerCase();
    x = x.trim();
    const result = document.querySelector('result');
    if (x == a[2]) {
        result.style.color = "green";
        result.textContent = "Correct!";
        return true;    
    } else {    
        result.style.color = "red";
        result.textContent = "Not quite!";
        return false;
    }      
}


function newQuestion() {
    a = getCombo();
    noun1 = a[0];
    pronoun1 = a[1];
    const noun = document.querySelector('noun');
    noun.textContent = noun1;
    const pronoun = document.querySelector('pronoun');
    pronoun.textContent = pronoun1;
}

function giveHint() {
    hintno ++;
    const hint = document.querySelector('hint');
    hint.textContent = a[2].substr(0,hintno);
}


function getCombo() {
    var random_noun = Math.floor(Math.random() * nouns.length);
    var random_pronoun = (1 + Math.floor(Math.random() * 7));
    var noun = nouns[random_noun][0];
    var pronoun = pronouns[random_pronoun];
    var prep_pronoun = nouns[random_noun][random_pronoun]
    var url = '/pronouns/'+(noun)+'/'+prep_pronoun+'.mp3';
    return [noun, pronoun, prep_pronoun, url];
}


var row1 = ["còta", "mo chòta", "do chòta", "a chòta", "a còta", "ar còta", "ur còta", "an còta"];
var row2 = ["bràthair", "mo bhràthair", "do bhràthair", "a bhràthair", "a bràthair", "ar bràthair", "ur bràthair", "am bràthair"];
var row3 = ["piuthar", "mo phiuthar", "do phiuthar", "a phiuthar", "a piuthar", "ar piuthar", "ur piuthar", "am piuthar"];
var row4 = ["peata", "mo pheata", "do pheata", "a pheata", "a peata", "ar peata", "ur peata", "am peata"];
var row5 = ["leanamh", "mo leanamh", "do leanamh", "a leanamh", "a leanamh", "ar leanamh", "ur leanamh", "an leanamh"];
var row6 = ["nighean", "mo nighean", "do nighean", "a nighean", "a nighean", "ar nighean", "ur nighean", "an nighean"];
var row7 = ["lèine", "mo lèine", "do lèine", "a lèine", "a lèine", "ar lèine", "ur lèine", "an lèine"];
var row8 = ["airgead", "m' airgead", "d' airgead", "airgead", "a h-airgead", "ar n-airgead", "ur n-airgead", "an airgead"];
var row9 = ["ogha", "m' ogha", "d' ogha", "ogha", "a h-ogha", "ar n-ogha", "ur n-ogha", "an ogha"];
var row10 = ["athair", "m' athair", "d' athair", "athair", "a h-athair", "ar n-athair", "ur n-athair", "an athair"]; 

        
var meta1 = [row1, row2, row3, row4]
var meta2 = [row5, row6, row7]
var meta3 = [row8, row9, row10] 

var all_nouns = [row1, row2, row3, row4, row5, row6, row7, row8, row9, row10]
var all_strings = ["row1", "row2", "row3", "row4", "row5", "row6", "row7", "row8", "row9", "row10"]
         
var hintno = 0;
var nouns = [];
   
var pronouns = ["pronoun", "mi", "thu", "e", "i", "sinn", "sibh", "iad"] 
    </script>
        