<!DOCTYPE html>
<style>
	@import "main.css";
	.pronoun_title{border: solid 1px black; padding:5px; background-color:#fff;}
	.pronoun_cell{padding:5px}
	.english_pronoun{background-color:rgba(255, 255, 255, 0.5); padding-left:10px;}
	.accentbutton{        background-color: #CBBD94;
        color: #FFFFFF;
        padding: 10px;
        border-radius: 10px;
        margin:10px; font-size:20px;}
	input[type=checkbox] {width:20px; height:20px;}
	.submitandhint{        background-color: #AEA179;
        color: #FFFFFF;
        padding: 10px;
        border-radius: 10px;
        -moz-border-radius: 10px;
        -webkit-border-radius: 10px;
        margin:10px; font-size:20px;}

	#app{background-color:rgba(255, 255, 255, 0.5);
        padding: 10px;
        border-radius: 10px;
        -moz-border-radius: 10px;
        -webkit-border-radius: 10px;
        margin:10px; font-size:20px;}

	#answer{ font-size:20px;}
</style>

<title>Gaelic nounal Pronoun Quiz</title>


<html>

<body onload="savedata_new()">
<iframe id="header" src="header.htm" frameBorder="0" scrolling="no"></iframe>

<div id="language">
 <ul id="languageul">
  <li class="languageli"><a href="gaelic/index.html" class="languagelink"><img src="gaelicflag.png" class="flag"><br> G&agrave;idhlig</a></li>

  <li class="languageli"><a href="index.html" class="languagelink"><img src="englishflag.png" class="flag"><br> English</a></li>
</ul> 
 </div>
<br>

<meta charset="utf-8">

<div class="main">
<br>

<center>
<div class="mytext">
<div style="text-align:center;float:right;margin-left:50px;">
<img src="coo.png" style="margin-left:50px;margin:10px;width:200px;height=150px;border:solid 1px black;"><br>
<i>'S e bò a th'ann!</i>
</div>
nounal pronouns refer to the combination of a noun + pronoun (such as 'on me,' 'at you,' 'in it') etc. There are several of these combinations in Gaelic, each with their own individual word, so I created this quiz in python to test on various combinations. I thought it might be of use to other learners, so I transferred it to javascript. Many thanks to <a href="https://www.taic.me.uk/">taic.me.uk</a> as a great resource.
<br><br>
To use the quiz, just check the pronouns you would like to test yourself on from the list below and refresh the page! The code will generate a random combination of noun + pronoun and you simply have to enter the the correct nounal pronoun for that combination. A cheat sheet is down below.
<h1>Possesion Quiz</h1>

<div>

 <form name="possessionQuiz" onsubmit="return validateAnswer()" action="">
      	<br>
	<img src="">
	<br>
	<font size="6"><noun></noun> @ <pronoun></pronoun> = ?</font>
	<br><br>
	<input type="text" name="answer" id="answer" autofocus="autofocus"> <result></result>
	<br>
	<button type="submit" class="submitandhint">Submit</button> <button type="button" onclick="giveHint()" class="submitandhint">Hint</button> 
	<font size="3"><hint></hint> </font>
   </form><br>

<button type="button" onclick="return add_a()" class="accentbutton">à</button>
<button type="button" onclick="return add_e()" class="accentbutton">è</button>
<button type="button" onclick="return add_i()" class="accentbutton">ì</button>
<button type="button" onclick="return add_o()" class="accentbutton">ò</button>
<button type="button" onclick="return add_u()" class="accentbutton">ù</button>

<br><br><font size="6">
Current streak: <streak></streak><br>
High Score: <high_score></high_score></font>
<p><br>
<font size="5">Test me on: <br>
<b>Lenitables</b>: <input type="checkbox" id="lenitables" onclick="checkBox('lenitables')"> 
<label for="lenitables"></label> 
<input type="checkbox" id="cota" onclick="checkBox('cota')"> 
<label for="cota">còta</label> 
<input type="checkbox" id="piuthar" onclick="checkBox('piuthar')"> 
<label for="piuthar">piuthar</label> 
<input type="checkbox" id="peata" onclick="checkBox('peata')"> 
<label for="peata">peata</label> 
<br>
<b>Non-Lenitables:</b>
<input type="checkbox" id="nonlenites" onclick="checkBox('nonlenites')"> 
<label for="nonlenites"></label> 
<input type="checkbox" id="leanamh" onclick="checkBox('leanamh')"> 
<label for="leanamh">leanamh</label> 
<input type="checkbox" id="taigh" onclick="checkBox('taigh')"> 
<label for="taigh">taigh</label> 
<br>
<b>Vowels:</b>
<input type="checkbox" id="airgead" onclick="checkBox('airgead')"> 
<label for="airgead">airgead</label> 
<input type="checkbox" id="ogha" onclick="checkBox('ogha')"> 
<label for="ogha">ogha</label> 

</font>
<br><br><br><br><br><br><br><br><br><br>
<center>

</center>
<br><br>
If you find this useful fire me an e-mail at arelennox@gmail.com and let me know! I want to make more similar programs for Gaelic (or other languages) - but only if it's a thing people actually use. If you have any issues or requests for other quizes, let me know that too. <br><br>
The game is completely free, but consider a donation to <a href="https://www.refuweegee.co.uk/">Refuweegee</a> if you use it often.
<br><br>
</div>
<script>

function add_a() {
	document.getElementById('answer').value = document.getElementById('answer').value + "à";
}
function add_e() {
	document.getElementById('answer').value = document.getElementById('answer').value + "è";
}
function add_i() {
	document.getElementById('answer').value = document.getElementById('answer').value + "ì";
}
function add_o() {
	document.getElementById('answer').value = document.getElementById('answer').value + "ò";
}
function add_u() {
	document.getElementById('answer').value = document.getElementById('answer').value + "ù";
}



function savedata() {
	for (i=0; i <all_nouns.length; i++) {
		console.log(i);
		var data = window.localStorage.getItem(all_strings[i]);
		if (data == 'true') {
			const result = document.querySelector('result');
			document.getElementById(all_strings[i]).checked = true;
			if (! nouns.includes(all_nouns[i])) {
				nouns.push(all_nouns[i]);
				}
		} else {
			document.getElementById(all_strings[i]).checked = false;
			if (nouns.includes(all_nouns[i])) {
				var index = nouns.indexOf(all_nouns[i]);
				nouns.splice(index, 1);
				}
		}
	}
	const mystreak = document.querySelector('streak');
	mystreak.textContent = streak;

	const myhigh_score = document.querySelector('high_score');
	myhigh_score.textContent = high_score;

	window.localStorage.setItem('nouns', nouns);
	newQuestion();
	return [nouns];
}


function new_saveddata() {
	for (i=0; i <lenitables.length; i++) {
		var data = window.localStorage.getItem('lenitables');
		if (data == 'true') {
			if (! nouns.includes(lenitables[i])) {
				nouns.push(lenitables[i]);
				}
		} else {
			if (nouns.includes(lenitables[i])) {
				var index = nouns.indexOf(lenitables[i]);
				nouns.splice(index, 1);
				}
		}
	}
	const mystreak = document.querySelector('streak');
	mystreak.textContent = streak;

	const myhigh_score = document.querySelector('high_score');
	myhigh_score.textContent = high_score;

	window.localStorage.setItem('nouns', nouns);
	newQuestion();
	return [nouns];
}









function checkBox(mystring) {
	mybox = document.getElementById(mystring);
        if(mybox.checked === true){
		window.localStorage.setItem(mystring, true);
	} else {
		window.localStorage.setItem(mystring, false);
	}
}


function checkSelection(mystring) {
	mybox = document.getElementById(mystring);
        if(mybox.checked === true){
		window.localStorage.setItem(mystring, true);
	} else {
		window.localStorage.setItem(mystring, false);
	}
}




function validateAnswer() {
	var x = document.forms["possessionQuiz"]["answer"].value;
	x = x.toLowerCase();
	x = x.trim();
	//alert("you wrote");
	const result = document.querySelector('result');
	if (x == a[2]) {
		result.style.color = "green";
		result.textContent = "Correct!";
		var audio = new Audio(a[3]);
		audio.play();
		streak++;
		if (streak > high_score) {
			window.localStorage.setItem('high_score', streak);
			}
		window.localStorage.setItem('streak', streak);
		return true;	
	} else {	
		result.style.color = "red";
		result.textContent = "Not quite!";
		streak = 0;
		window.localStorage.setItem('streak', streak);
		return false;
	}
}


function newQuestion() {
	a = getCombo();
	noun1 = a[0];
	pronoun1 = a[1];
	const noun = document.querySelector('noun');
	noun.textContent = noun1;
	const pronoun = document.querySelector('pronoun');
	pronoun.textContent = pronoun1;
}

function giveHint() {
	hintno ++;
	const hint = document.querySelector('hint');
	hint.textContent = a[2].substr(0,hintno);
}

function getCombo() {
   var random_noun = Math.floor(Math.random() * nouns.length);
   var random_pronoun = (1 + Math.floor(Math.random() * 7));
   var noun = nouns[random_noun][0];
   var pronoun = pronouns[random_pronoun];
   var prep_pronoun = nouns[random_noun][random_pronoun]
   var url = '/pronouns/'+(noun)+'/'+prep_pronoun+'.mp3';
   return [noun, pronoun, prep_pronoun, url];
}

var cota = ['còta', 'mo chòta', 'do chòta', 'a chòta', 'a còta', 'ar còta', 'ur còta', 'an còta'];
var piuthar = ['piuthar', 'mo phiuthar', 'do phiuthar', 'a phiuthar', 'a piuthar', 'ar piuthar', 'ur piuthar', 'am piuthar'];
var peata = ['peata', 'mo pheata', 'do pheata', 'a pheata', 'a peata', 'ar peata', 'ur peata', 'am peata'];
var leanamh = ['leanamh', 'mo leanamh', 'do leanamh', 'a leanamh', 'a leanamh', 'ar leanamh', 'ur leanamh', 'an leanamh'];
var taigh = ['taigh', 'mo taigh', 'do taigh', 'a taigh', 'a taigh', 'ar taigh', 'ur taigh', 'an taigh'];
var airgead = ['airgead', "m' airgead", "d' airgead", 'airgead', 'a h-airgead', 'ar n-airhead', 'ur n-airgead', 'an airgead'];
var ogha = ['ogha', "m' ogha", "d' ogha", 'ogha', 'a h-ogha', 'ar n-ogha', 'ur n-ogha', 'an ogha'];

var lenitables = [cota, piuthar, peata]
var nonlenitables = [leanamh, taigh]
vowels = [airgead, ogha]


var all_nouns = [cota, piuthar, peata, leanamh, taigh, airgead, ogha];
var all_strings = ['cota', 'piuthar', 'peata', 'leanamh', 'taigh', 'airgead', 'ogha'];




if (localStorage.getItem("streak") === null) {
	var streak = 0;
} else {
	var streak = window.localStorage.getItem('streak');
}

if (localStorage.getItem("high_score") === null) {
	var high_score = 0;
} else {
	var high_score = window.localStorage.getItem('high_score');
}

var hintno = 0;
//var nouns = savedata() 
var nouns = [piuthar];
//var nouns = [aig, piuthar, peata, as1, bho, de, do1, fo, gu, le, mu, o, ri, ro, thar, tro];
var pronouns = ['pronoun', 'mi', 'thu', 'e', 'i', 'sinn', 'sibh', 'iad'];
//var a = getCombo();
//noun1 = a[0]
//pronoun1 = a[1]


//const noun = document.querySelector('noun');
//noun.textContent = noun1;
//const pronoun = document.querySelector('pronoun');
//pronoun.textContent = pronoun1;

</script>
</div>
</center>
</div>
<br><br>
<br><br>
<br><br>
<div id="footerdiv">
<iframe id="footer" src="footer.htm" frameBorder="0" scrolling="no"></iframe>
</div>
</body>
</html>